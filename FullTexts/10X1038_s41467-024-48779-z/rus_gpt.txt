Физически-информированная нейронная сеть для стабильного моделирования и прогнозирования деградации литий-ионных батарей

Аннотация: Точное оценивание состояния здоровья (SOH) критически важно для надежной и безопасной эксплуатации литий-ионных батарей. Однако надежная и стабильная оценка SOH батарей остается сложной задачей из-за разнообразия типов батарей и условий эксплуатации. В этой статье мы предлагаем физически-информированную нейронную сеть (PINN) для точной и стабильной оценки SOH батарей. В частности, мы моделируем атрибуты, влияющие на деградацию батареи, с точки зрения эмпирической деградации и уравнений состояния, и используем нейронные сети для захвата динамики деградации батареи. Разработан общий метод извлечения признаков для извлечения статистических признаков из короткого периода данных до полной зарядки батареи, что позволяет нашему методу быть применимым к различным типам батарей и протоколам зарядки/разрядки. Кроме того, мы создаем обширный набор данных, состоящий из 55 литий-никель-кобальт-марганцевых оксидных (NCM) батарей. В сочетании с тремя другими наборами данных от разных производителей, мы используем в общей сложности 387 батарей с 310,705 образцами для валидации нашего метода. Средняя абсолютная процентная ошибка (MAPE) составляет 0,87%. Предложенная нами PINN продемонстрировала выдающуюся производительность в регулярных экспериментах, экспериментах с небольшими выборками и трансферных экспериментах по сравнению с альтернативными нейронными сетями. Это исследование подчеркивает перспективы физически-информированного машинного обучения для моделирования деградации батарей и оценки SOH.

В последние годы количество литий-ионных батарей растет с угрожающей скоростью во всем обществе, что является беспрецедентным стимулом для популяризации оборудования на возобновляемых источниках энергии. Благодаря преимуществам высокой плотности энергии, низкой скорости саморазряда и длительного срока службы литий-ионные батареи стали основными устройствами для хранения энергии в портативных электронных устройствах, электромобилях, аэрокосмической отрасли и многих других областях, , , , , ,. В 2019 году мировые поставки литий-ионных батарей для новых энергетических транспортных средств достигли 116,6 ГВтч. Ожидается, что к 2025 году установленная мощность литий-ионных батарей в мире достигнет 800 ГВтч, а рыночная стоимость составит 91,8 миллиарда долларов. Взрывной рост литий-ионных батарей принес удобство в жизнь людей, однако их старение и управление состоянием здоровья также вызвали обеспокоенность и внимание. Старение литий-ионных батарей является важной проблемой, и их производительность будет снижаться со временем, пока не выйдет из строя. Для обеспечения долгосрочной, безопасной и непрерывной работы литий-ионные батареи должны быть правильно обслужены и контролируемы, что включает в себя оценку состояния здоровья (SOH). SOH батареи определяется как отношение текущей доступной емкости к начальной емкости, которое может использоваться в качестве индикатора для измерения деградации батареи. Когда SOH падает до 80%, батарея достигает своего первого срока службы. Батареи, достигшие своего первого срока службы, все еще могут использоваться в таких областях, как электростанции для вторичного использования. Поэтому особенно важно точно оценить SOH батареи.

В последние годы были предложены различные методы оценки SOH литий-ионных батарей, которые значительно продвинули развитие этой области, , ,. Однако точная оценка SOH все еще является сложной задачей. Обычно емкость можно получить из полной кривой разряда от верхнего предельного напряжения до нижнего предельного напряжения через интеграцию ампер-часов, тем самым получая SOH. В реальном применении трудно получить полную кривую заряда или разряда, потому что батарея редко полностью разряжается. Некоторые ученые оценивают SOH, создавая модели старения батарей. Багдади и др. предложили подход, основанный на физике, на основе метода деградации Дакина для моделирования линейного процесса деградации батарей. Учитывая, что изменяющиеся во времени температурные условия оказывают важное влияние на разрядную емкость и закон старения литий-ионных батарей, Сюй и др. предложили стохастическую модель скорости деградации на основе температурной модели Аррениуса и создали модель старения литий-ионных батарей в условиях изменяющейся температуры на основе процесса Винера. Донг и др. предложили модель, основанную на физике, которая сочетает химические и механические механизмы деградации для прогнозирования снижения емкости путем моделирования формирования и роста твердого электролитного интерфейса (SEI). Ли и др. предложили подход, основанный на физике, для прогнозирования емкости литий-ионных батарей путем моделирования механизмов деградации, таких как потери активных материалов положительных и отрицательных электродов и потери литиевого инвентаря.

Учитывая сложность создания физических моделей и трудности в получении полной разрядной емкости, многие исследования использовали методы, основанные на данных, для оценки SOH на основе кривых тока и напряжения во время заряда и разряда. Обычно используемые методы, основанные на данных, включают линейную регрессию, машины опорных векторов, регрессию гауссовских процессов, глубокие нейронные сети и т. д. Ся и др. извлекли признаки из кривых инкрементальной емкости (IC) и дифференциального напряжения (DV) для оценки SOH. Ван и др. извлекли ценные индикаторы здоровья из спектроскопии электрохимического импеданса (EIS) в качестве входных данных для регрессии гауссовских процессов для оценки SOH. Методы, основанные на данных, не требуют физических знаний и сосредоточены только на взаимосвязи между входом и выходом, поэтому извлечение деградированных признаков является ключевой частью методов, основанных на данных, что в значительной степени определяет производительность оценки SOH, , , , ,.

Тем не менее, на пути к разработке надежных, точных и общих методов оценки SOH все еще стоят вызовы,. Модели, основанные на физике, стабильны и точны, но батареи с различным химическим составом требуют различных параметров модели, и модели имеют высокие вычислительные затраты. Модели, основанные на данных, обладают высокой точностью и эффективностью, но их обобщаемость зависит от извлеченных признаков и имеет низкую стабильность,. Например, из-за высокой изменчивости использования существующие методы требуют извлечения специфических признаков для различных наборов данных или различных условий работы, что приводит к тому, что модели специфичны для набора данных, что приводит к растрате вычислительных ресурсов. Перспективы физически-информированных нейронных сетей (PINN) заключаются в объединении сильных сторон подходов, основанных на физике и данных, что потенциально может решить вышеупомянутые проблемы. Благодаря учету физической информации, PINN может использовать относительно меньше данных для обучения модели, и модель более стабильна. Это перспективный подход в области прогнозирования и диагностики батарей. Айкол и др. классифицировали методы моделирования батарей, которые объединяют физические знания и машинное обучение, на пять категорий, включая три метода последовательной интеграции, A1–A3, и два гибридных метода, B1–B2. Среди них очевидной особенностью метода последовательной интеграции является то, что физическая модель и модель машинного обучения являются автономными, в то время как гибридный метод объединяет их вместе. В рамках этой структуры были опубликованы некоторые работы, , , , , , ,. Насименту и др. непосредственно реализовали численную интеграцию управляющих уравнений на основе принципов через рекуррентные нейронные сети для моделирования динамического отклика батареи. Ван и др. предложили нейронную сеть батареи (BattNN) для прогнозирования напряжения разряда на основе эквивалентной схемной модели (ECM). Хофманн и др. использовали псевдодвумерную (P2D) модель Ньюмана для генерации данных в различных точках состояния здоровья и объединили их с экспериментальными данными и полевыми данными для обучения модели нейронной сети, которая использует корреляцию между внутренними состояниями и измеряемым SOH. Согласно категориям, предложенным Айкол и др., эти методы относятся к категориям A2 и A3, , ,.

На самом деле, метод последовательной интеграции относительно прост в реализации, поскольку физическая модель и модель машинного обучения являются автономными, что делает его практичной краткосрочной стратегией для моделирования батарей. По сути, модели машинного обучения в методе последовательной интеграции не подвержены физическим ограничениям. Гибридные методы, с другой стороны, более фундаментальны, так как они действительно интегрируют основные управляющие уравнения для моделирования батарей с методами, основанными на данных. Однако из-за сложных физических уравнений, содержащих множество параметров и трудных для решения, существует мало публикаций, реализующих гибридные методы для оценки SOH. Недавний обзор указал, что гибридные методы станут доминирующим методом в долгосрочной перспективе, но это все еще открытый вопрос для исследований.

В этой работе мы предложили PINN для оценки SOH батареи, который относится к архитектуре B2. Этот подход достигает истинной интеграции управляющих уравнений и нейронных сетей, что приводит к стабильной и точной оценке SOH. В отличие от существующих подходов PINN, мы также подтвердили его достижения в обучении на малых выборках и переносе обучения между батареями с различной химией и профилями зарядки/разрядки. В частности, во-первых, учитывая сложность электрохимических уравнений, это затрудняет разработку PINN типа B2. Поэтому мы моделируем динамику деградации батареи с точки зрения эмпирической деградации и уравнений состояния, и используем нейронные сети для захвата динамики деградации батареи. Во-вторых, чтобы сделать модель более общей, мы разработали новый метод извлечения признаков. Процесс разрядки батареи специфичен для пользователя, и батарея редко полностью разряжается. Напротив, как только начинается зарядка, вероятность полной зарядки высока, и она более фиксирована и регулярна. Поэтому мы извлекаем признаки из короткого периода данных до полной зарядки батареи. В-третьих, чтобы проверить наш метод, мы провели эксперименты по деградации батареи и выпустили набор данных, содержащий данные о работе до отказа 55 батарей. Кроме того, мы также проверили наш метод на других трех крупных наборах данных с различными химическими составами и протоколами зарядки/разрядки, доказывая превосходство и универсальность нашего метода. Мы также выполняем дальнейшую задачу оценки SOH, перенося знания о деградации из одного набора данных в другой. Эти наборы данных для выполнения задач переноса содержат батареи с различной химией и протоколами зарядки/разрядки. Результаты иллюстрируют эффективность и универсальность предложенного PINN в оценке SOH.

Мы разработали PINN для оценки SOH литий-ионных батарей, и его блок-схема показана на рис. [1]. Наш метод предназначен для более общей, надежной, стабильной и высокоточной оценки SOH, учитывая динамическое поведение деградации батареи, а также тенденцию деградации.

На этапе предварительной обработки данных (показан на рис. [1] b) статистические признаки извлекаются из короткого периода данных до полной зарядки батареи в качестве входных данных модели, что гарантирует наличие этого периода данных в большинстве наборов данных батарей и решает проблему неуниверсальных признаков в существующих исследованиях. Поэтому наш метод применим к батареям с различной химией и протоколами зарядки/разрядки.

На этапе оценки SOH, из-за сложности электрохимических уравнений, в настоящее время нет хорошего способа интегрировать их с нейронными сетями. В этой работе мы моделировали атрибуты, которые влияют на деградацию батареи с точки зрения эмпирической деградации и уравнения состояния, и использовали нейронные сети для аппроксимации установленной модели деградации, эффективно достигая интеграции управляющих уравнений и нейронных сетей. Предложенный PINN состоит из двух частей: функции решенияf ( ⋅ ), которая отображает признаки в SOH, и нелинейной функцииg ( ⋅ ), которая моделирует динамическое поведение деградации батареи, как показано на рис. [1] c. Решениеf ( ⋅ ), моделирующее связь между признаками и SOH, выражается какu =f (t ,x ), гдеt представляет время,x представляет извлеченный вектор признаков, аu обозначает SOH циклаi. Нелинейная функцияg ( ⋅ ) моделирует скорость снижения SOH батареи. Посколькуf ( ⋅ ) иg ( ⋅ ) подвержены влиянию многих факторов в реальности, и их явные выражения неизвестны, они заменяются малыми полностью связанными нейронными сетями, обозначенными какF(⋅)иG(⋅). Во время обучения мы учитываем потери данныхL data , потери монотонностиL mono , и потериL PDE , ограниченные уравнением деградации, описанным частным дифференциальным уравнением. Они минимизируют ошибки между предсказанными и истинными значениями, при этом заставляя модель следовать свойствам монотонности траектории деградации и удовлетворять ограничениям установленной модели деградации.

Чтобы подтвердить превосходство предложенного PINN, мы провели эксперименты на малых выборках и эксперименты по переносу. Во время экспериментов по переносу мы заморозилиG(⋅)и тонко настроилиF(⋅)на наборах данных с различными химическими составами. Результаты экспериментов демонстрируют, что предложенная структура PINN может эффективно захватывать динамику деградации батареи. Наше исследование сочетает знания о деградации батареи с нейронными сетями и достигает обнадеживающих результатов. Это исследование подчеркивает перспективность физически-информированных нейронных сетей для моделирования деградации батареи и оценки SOH (более подробные методологические детали можно найти в разделе «Методы»).

Для охвата различных типов и химического состава батарей мы используем 310,705 образцов из 387 батарей из 4 различных крупных наборов данных для валидации. Первый набор данных получен из экспериментов по деградации батарей, проведенных нами для этого исследования, остальные три набора данных являются известными публичными наборами данных от Zhu и др., Ye и др., и Severson и др.. Для удобства мы называем эти четыре набора данных как набор данных батарей XJTU, набор данных TJU, набор данных HUST и набор данных MIT. Основная информация о четырех наборах данных представлена в Таблице [1].

В этом исследовании мы разработали эксперимент по деградации батарей, как показано на Рис. [S1]. Всего 55 батарей, изготовленных компанией LISHEN (LiNi0.5 Co0.2 Mn0.3 O2 , номинальная емкость 2000 мАч и номинальное напряжение 3.6 В, предельные напряжения заряда и разряда составляют 4.2 В и 2.5 В), были циклированы до отказа по 6 протоколам зарядки/разрядки при комнатной температуре. Протоколы включают фиксированную зарядку и разрядку, случайную разрядку с фиксированным током в разных циклах, случайное блуждание и стратегию зарядки и разрядки спутника на геостационарной орбите (GEO). Мы используем партии с 1 по 6 для представления 6 протоколов зарядки/разрядки соответственно. Траектории деградации показаны на Рис. [2]. Более подробная информация о нашем наборе данных представлена в Дополнительной заметке [1].

Набор данных TJU содержит три типа батарей: батарея NCA (номинальная емкость 3500 мАч и предельное напряжение 2.65–4.2 В), батарея NCM (номинальная емкость 3500 мАч и предельное напряжение 2.5–4.2 В) и батарея NCM + NCA (номинальная емкость 2500 мАч и предельное напряжение 2.5–4.2 В). Эти батареи циклировались в камере с контролируемой температурой при различных температурах и различных токах зарядки. Кандидатами для температур были 25, 35 и 45 °C. Использовались токи от 0.25 C до 4 C. Мы используем партии 1, 2 и 3 для представления батарей NCA, NCM и NCM + NCA соответственно.

Набор данных HUST содержит данные от 77 ячеек LFP/графит под 77 различными многоступенчатыми протоколами разрядки. Эти батареи, изготовленные компанией A123 (APR18650M1A), имеют номинальную емкость 1100 мАч и номинальное напряжение 3.3 В. Они циклировались при температуре 30 °C с идентичным протоколом зарядки, но различными протоколами разрядки до отказа.

Батареи в наборе данных MIT имеют тот же тип и химический состав, что и батареи в наборе данных HUST. Однако, в отличие от экспериментальной установки в наборе данных HUST, набор данных MIT рассматривал несколько стратегий быстрой зарядки и одну стратегию разрядки. В частности, они циклировались в эксперименте быстрой зарядки с одношаговой или двухшаговой политикой быстрой зарядки и разряжались при 4 C. Температура эксперимента составляет 30 °C.

Устойчивые признаки могут часто улучшать точность оценки состояния здоровья (SOH). Однако вопрос о том, как извлечь общие и устойчивые признаки, является достойной исследовательской проблемой. В существующих исследованиях были предложены различные методы извлечения признаков для конкретных наборов данных и протоколов зарядки/разрядки, однако обобщение признаков было недостаточно учтено. Существует мало исследований методов извлечения общих признаков для различных типов батарей или протоколов зарядки/разрядки. Чтобы извлечь более устойчивые и обобщаемые признаки, мы предлагаем метод извлечения признаков из короткого периода кривой напряжения зарядки и кривой тока через наблюдение и исследование нескольких наборов данных. Неоспоримым фактом является то, что процесс разрядки батареи специфичен для пользователя. В отличие от этого, процесс зарядки является основным и более фиксированным и регулярным, и вероятность полной зарядки батареи относительно высока. Мы обнаружили, что большинство наборов данных содержат режимы зарядки с постоянным током и постоянным напряжением (CC-CV). Для четырех используемых нами публичных наборов данных, независимо от того, с какой стратегией разряжается батарея или полностью ли она разряжена, в конечном итоге она будет полностью заряжена при зарядке.

Поэтому мы выбрали короткий период данных до полной зарядки батареи для извлечения признаков, как показано на рис. [1] b. Определите напряжение отсечки зарядки батареи какVend , и выберите данные напряжения, значение которых находится в пределах [Vend−0.2 ,Vend ] В. Для данных тока мы выбираем данные с током между 0.5 A и 0.1 A во время зарядки с постоянным напряжением. Независимо от того, полностью ли разряжена батарея, как только она полностью заряжена, диапазон напряжения и диапазон тока всегда существуют.

Среднее значение, стандартное отклонение, эксцесс, асимметрия, время зарядки, накопленный заряд, наклон кривой и энтропия кривой из выбранных кривых тока и напряжения соответственно (эти признаки пронумерованы от 1 до 16 соответственно. Подробнее см. в Дополнительной заметке [2] ) извлекаются. Иллюстрация извлеченных признаков из партии 1 набора данных XJTU представлена на рис. [3] a. Далее мы извлекли признаки из 387 батарей в 4 наборах данных соответственно и рассчитали коэффициент корреляции Пирсона между признаками и SOH в каждом наборе данных, как показано на рис. [3] b.

На основе экспериментальных явлений и анализа рис. [3] b, мы выдвигаем естественное предположение: величина коэффициента корреляции между каждым признаком и SOH связана с химическим составом батареи и менее подвержена влиянию протоколов зарядки/разрядки. Насколько нам известно, мы первые, кто сосредоточился на этом явлении. Из таблицы [1] видно, что как набор данных XJTU, так и набор данных TJU относятся к батареям типа LiNiCo-x. Несмотря на то, что у них совершенно разные номинальные емкости и протоколы зарядки/разрядки, признаки, извлеченные из нашего выбранного диапазона, очень похожи. Например, существует очень сильная отрицательная корреляция между признаками 11–16 и SOH. Признаки 9 и 10 имеют сильную положительную корреляцию с SOH. В отличие от этого, наборы данных MIT и HUST относятся к батареям LiFePO4. Признаки 11–16 показывают слабую положительную корреляцию с SOH, в то время как признаки 9 и 10 показывают отрицательную корреляцию с SOH. Кроме того, признаки 3–6 и 8 последних двух наборов данных показывают сильную положительную корреляцию с SOH.

Извлеченные 16 признаков и время (цикл) используются в качестве входных данных предложенной PINN для оценки SOH. Чтобы уменьшить влияние разницы в величине признаков на модель и сделать обучение модели более стабильным, на признаки выполняется нормализация min–max. То есть все признаки масштабируются в диапазон [−1,1]. Результаты оценки SOH предложенной PINN на 4 наборах данных приведены на рис. [4] a (количество тестируемых батарей в каждом наборе данных можно найти в таблице [S2].

Чтобы продемонстрировать преимущества предложенной PINN, в качестве методов сравнения используются многослойный перцептрон (MLP) с той же структурой и количеством параметров и сверточная нейронная сеть (CNN) с аналогичным количеством параметров. Подробности о MLP и CNN можно найти в Дополнительной заметке [3]. Для каждого набора данных мы делим обучающие батареи, батареи для валидации и тестовые батареи примерно в соотношении 6:2:2. Количество тестовых батарей в каждом наборе данных можно найти в Таблице [S2]. Чтобы обеспечить справедливость, количество тестовых батарей равномерно распределено по всему набору данных, как показано в Таблицах [S3] – [S6]. Результаты 3 моделей на 4 наборах данных показаны в Таблице [2] (даны только средние ошибки тестирования на каждом наборе данных, а результаты тестирования каждой батареи можно посмотреть в Таблицах [S3] – [S6]. Из таблицы видно, что наш метод имеет наименьшие ошибки оценки в большинстве случаев. Средняя MAPE предложенной PINN на 4 наборах данных составляет 0.85%, 1.21%, 0.65% и 0.78%, в то время как у MLP — 2.60%, 1.72%, 0.83% и 0.83%. Стоит отметить, что они имеют одинаковое количество параметров и структуру модели во время вывода.

Кроме того, чтобы отразить стабильность модели, процесс обучения и тестирования каждой модели на каждом наборе данных повторяется 10 раз. Результаты тестирования показаны на Рис. [4] b. Из рисунка видно, что предложенная нами PINN является самой стабильной во всех задачах и по всем метрикам. Размер выборки в каждой партии набора данных XJTU мал, что вызывает значительные колебания в MLP и CNN. Напротив, наш метод более стабилен и дает меньшую ошибку тестирования. Для набора данных HUST и MIT они содержат большое количество обучающих образцов, поэтому колебания MLP и CNN становятся меньше, и ошибки тестирования уменьшаются. Однако наша предложенная PINN все еще является лучшей моделью по производительности.

Предложенная нами PINN моделирует динамику деградации батареи, учитывая больше физических законов, и поэтому может быть обучена с меньшим количеством данных. По сравнению с чисто данными методами, наш метод может показать большее превосходство, когда количество доступных обучающих данных мало. Чтобы проверить вышеуказанное предположение, проводятся эксперименты с небольшими выборками на наборах данных XJTU и HUST.

Конкретно, мы используем данные 1 батареи для обучения 3 моделей и тестируем на нескольких батареях (тестовый набор тот же, что и в 2.4), и записываем результаты тестирования. Кроме того, мы постепенно увеличиваем количество обучающих батарей и наблюдаем изменение производительности каждой модели на тестовом наборе. Результаты приведены в Таблице [3] и на Рис. [5] (даны только результаты партии 1 для набора данных XJTU, больше результатов можно найти в Таблице [S7] и на Рис. [S5] ).

Можно наблюдать, что предложенная нами PINN получает лучшие результаты во всех задачах и настройках. По мере увеличения количества обучающих батарей, тестовые ошибки уменьшаются для всех 3 моделей. Это общепринятый факт: увеличение количества обучающих образцов может улучшить производительность модели, когда обучающие данные малы. На Рис. [4] b, из-за большого количества образцов в наборе данных HUST, производительность CNN и MLP сопоставима с производительностью нашей PINN. Это также иллюстрирует тот факт, что когда структура или количество параметров моделей одинаковы или схожи, при наличии достаточного количества обучающих образцов производительность моделей не сильно различается. Однако из Рис. [5] очевидно, что наш метод имеет значительное преимущество, когда количество обучающих образцов мало. Кроме того, стоит отметить, что производительность нашей PINN, обученной только на 1 батарее, сопоставима с производительностью MLP и CNN, обученных на 3–4 батареях, что демонстрирует превосходство нашей PINN в сценарии с небольшими выборками.

Тонкая настройка является одной из реализаций обучения с переносом, которая улучшает способность обучения путем быстрой настройки модели с использованием небольшого количества вновь собранных данных. Преимущество заключается в том, что она может использовать массивные данные, собранные в других сценариях (исходная область), для предварительного обучения модели и изучения основной связи между признаками и метками. Затем небольшое количество данных целевой области используется для быстрой настройки модели для достижения хорошей производительности. Большинство существующих исследований по обучению с переносом для оценки SOH касаются переноса между различными протоколами зарядки/разрядки, и мало исследований по переносу между различными наборами данных (различные химические составы). В этой статье мы объединили 4 набора данных в пары для экспериментов по тонкой настройке.

Мы считаем, что динамика деградацииG(⋅)независима от протоколов зарядки/разрядки и наборов данных, в то время как решениеF(⋅)связано с ними. После изучения из массивных данных,G(⋅)должна содержать общую информацию, которая может отражать природу деградации батареи, что полезно для оценки SOH в различных сценариях. Поэтому мы только тонко настраиваем веса решенияF(⋅)и оставляем веса динамикиG(⋅)замороженными, как показано на рис. [6] b.

Мы провели эксперименты по тонкой настройке и эксперименты только с исходными данными, а также сравнили их с экспериментами на малых выборках. Все результаты приведены в Таблице [4]. Из рисунка видно, что модель с тонкой настройкой значительно лучше, чем метод только с исходными данными. Более того, когда есть только 1 батарея целевой области с меткой, модели, следующие парадигме "предварительное обучение — тонкая настройка", работают лучше, чем модели, обученные напрямую с использованием 1 батареи целевой области. Это демонстрирует эффективность парадигмы "предварительное обучение — тонкая настройка". Для набора данных XJTU и набора данных TJU, даже если модель обучена с 2 батареями целевой области, ее производительность не так хороша, как у модели, настроенной с 1 батареей целевой области. Это также доказывает, что динамикаG(⋅)извлекла полезную информацию из большого объема данных в исходной области.

Также кажется, что есть некоторые интуитивно правильные, но менее очевидные выводы, если пересмотреть Таблицу [4] с более справедливой точки зрения, то есть игнорируя последний столбец таблицы. И набор данных XJTU, и набор данных TJU являются батареями LiNiCo-x, и корреляция между признаками и SOH более схожа (см. раздел "Извлечение признаков" для корреляций), поэтому эффект тонкой настройки между ними лучше. Аналогично, и MIT, и HUST являются батареями LiFePO4 , и эффект тонкой настройки между ними также многообещающий. Это может быть значимым открытием, и мы продолжим изучать его в будущем.

Точная оценка SOH облегчает управление здоровьем и принятие решений по обслуживанию литий-ионных батарей. Существующие методы оценки SOH требуют извлечения различных признаков для различных наборов данных, и производительность модели сильно колеблется. В этой работе мы предлагаем общий PINN для оценки SOH батареи. В частности, мы предлагаем общий метод извлечения признаков для извлечения статистических признаков из короткого периода данных до полной зарядки батареи, который включен в батареи, заряжаемые в режиме постоянного тока и постоянного напряжения. Затем мы смоделировали динамику деградации батареи с помощью PINN, и SOH был оценен, принимая извлеченные признаки в качестве входных данных.

Для проверки нашего подхода мы провели эксперименты по старению батарей и разработали набор данных с 55 батареями. Наконец, мы проверили наш метод на 387 батареях с различной химией и протоколами зарядки/разрядки из 4 крупных наборов данных. Результаты продемонстрировали эффективность и осуществимость предложенного нами метода. Кроме того, мы провели эксперименты с небольшими выборками и эксперименты по переносу, доказывая, что учет физических знаний помогает моделям, основанным на данных, учиться быстрее и лучше. Наше исследование подчеркивает перспективность машинного обучения, основанного на физике, для моделирования деградации батарей и оценки состояния здоровья (SOH). Это может способствовать быстрому развитию систем управления батареями для батарей следующего поколения с использованием существующих экспериментальных данных и небольших новых данных.

Моделирование деградации батарей и оценка SOH являются актуальными темами исследований в области управления здоровьем батарей. По мере старения батарей происходят различные процессы деградации интерфейсов, а также потеря литиевого запаса и активных материалов, что приводит к увеличению сопротивления при переносе ионов и электронов, а также интеркаляционных реакциях, что, в свою очередь, приводит к изменениям в их кривых зарядки. Следовательно, кривая зарядки содержит богатую информацию о процессе деградации. Однако использование кривых зарядки и разрядки для оценки SOH батареи может привести к утечке информации. Геслин и др. указали, что несогласованные протоколы зарядки и разрядки, условия использования и т. д. могут привести к утечке информации, что является серьезной проблемой, которую ученые могут игнорировать. Они считают, что фиксированный режим CC-CV может смягчить проблему утечки информации. Поэтому рекомендуется избегать включения факторов, связанных с внутренним качеством батареи, изменчивостью производства и условиями использования, насколько это возможно, при выполнении задач оценки SOH. В нашем исследовании признаки извлекаются из небольшого сегмента данных на этапе CC-CV до полной зарядки батареи, что не зависит от условий использования батареи. Это обеспечивает полезность и универсальность извлеченных нами признаков, избегая проблемы утечки информации, вызванной несогласованными протоколами зарядки или условиями использования батареи. Во время этапа обучения и тестирования мы обучаем модель на данных от батареи A и тестируем ее на батарее B; вместо обучения модели на ранних данных от батареи A и тестирования на более поздних данных, что позволяет избежать утечки информации из обучающего набора в тестовый.

При построении модели оценки SOH мы предложили PINN для оценки SOH батареи. Нейронная сеть, информированная физикой, обещает быть эффективным способом использования искусственного интеллекта для решения практических инженерных задач. Объединяя традиционные физические модели с моделями нейронных сетей, она может более точно захватывать сложное динамическое поведение систем батарей, тем самым способствуя более надежной и точной оценке состояния. Однако эта развивающаяся область все еще требует дальнейшего изучения учеными. В рамках, предложенных Айколом и др., гибридные методы, которые используют физические уравнения для ограничения нейронных сетей или интеграции физических уравнений в нейронные сети, в долгосрочной перспективе станут доминирующими. Этот класс гибридных методов имеет потенциал для объединения причинно-следственных связей и экстраполяционных возможностей моделей, основанных на физике, со скоростью, гибкостью и возможностями работы с высокими измерениями нейронных сетей. Однако ограничение этих методов заключается в сложности физической модели батареи (например, модели P2D), которая содержит множество параметров, и внутренние параметры батареи трудно собрать. В настоящее время нет удовлетворительного метода для бесшовной интеграции физических моделей и нейронных сетей. PINN, предложенная в этой статье, моделируется с точки зрения эмпирической деградации и уравнений состояния, служа лишь исследованием таких гибридных методов и действуя как катализатор для дальнейших исследований. Кроме того, мы рассматриваем только извлечение признаков из легко доступных данных о токе и напряжении. По мере того, как становится доступно больше данных и внутренних переменных, можно рассматривать более сложные электрохимические модели. Оптимальная интеграция уравнений управления батареей и нейронных сетей для управления здоровьем в условиях существующих данных и вычислительных ресурсов остается открытой для дальнейшего изучения.

Старение батареи в первую очередь характеризуется уменьшением доступной емкости и увеличением внутреннего сопротивления, обычно следуя нисходящей траектории. Для точного описания траектории деградации батареи ученые предложили различные эмпирические модели для описания потери емкости батареи как функции времени или числа циклов, включая линейную модель, экспоненциальную модель, степенную модель и модель прогнозирования отказов (FFM) и т. д. Все эти модели описывают траекторию деградации батареи как одномерную функцию времени,.

Однако представление траектории деградации батарей исключительно как одномерной функции времени чрезмерно упрощает процесс. На самом деле деградация батареи связана не только со временем, но и со скоростью зарядки, скоростью разрядки, календарным временем, температурой, глубиной разряда (DOD) и т. д. Например, Сюй и др. разделили старение батареи на календарное старение и циклическое старение, учитывая такие факторы, как состояние заряда (SOC), DOD, температура ячейки и рост пленки твердого электролита (SEI). Они моделировали календарное старение и циклическое старение как функции календарного времени, SOC, DOD и температуры.

Таким образом, моделирование траектории деградации батареи только как функции времени является недостаточным. В этом исследовании мы предлагаем моделировать ее как многовариантную функцию: 1 u = f(t , x),  гдеt представляет время, аx представляет вектор, состоящий из SOC, DOD, температуры, скорости заряда, скорости разряда, индикаторов здоровья (HIs) и всех других факторов. В нашей работеx представляет HIs, извлеченные из данных о зарядке (см. раздел «Извлечение признаков» для получения более подробной информации).

Без потери общности, чтобы описать динамику деградации батареи, скорость снижения SOH может быть описана как: 2 ∂ u ∂ t = g t , x , u ; θ.  Вышеуказанное уравнение является явным уравнением в частных производных (PDE), параметризованнымθ , иg ( ⋅ ) представляет нелинейную функцию отt ,x иu. Функцияg ( ⋅ ) характеризует внутреннюю динамику деградации батареи, и, изменяя эту нелинейную функцию, можно представить различные формы деградации. Модели, такие как линейная модель, экспоненциальная модель, степенная модель и FFM, могут рассматриваться как частные случаи уравнения ( [2] ), когда учитывается только время.

Неизбежной проблемой является то, что явная формаg ( ⋅ ) неизвестна и трудно получить. В ответ на аналогичные проблемы Sun и др. предложили разреженную регрессионную нейронную сеть, информированную физикой, которая использует разреженность для изучения параметровθ функцииg ( ⋅ ) из заданного набора кандидатов. Raissi и др. предложили модели глубокой скрытой физики для моделированияg ( ⋅ ). Вдохновленные этим, мы предлагаем использовать более обобщенный аппроксиматор функцииg ′(⋅)с параметрамиθ ′ для представления нелинейной динамикиg ( ⋅ ). Таким образом, уравнение ( [2] ) становится: 3 u t ≈ g ′ t , x , u , ut , ux , uxx , ⋯ ; θ′.  В уравненииu t = ∂ u ∂ t , мы используем нейронную сетьF t , x ; Φ с обучаемыми параметрами Φ для моделированияf (t ,x ) и используем механизмы автоматического дифференцирования для вычисленияu t ,.u x = ∂u∂x1,∂u∂x2,⋯ ⊤ представляет собой частную производную первого порядкаu поx , аu xxпредставляет собой частную производную второго порядка. Одним из преимуществ этого подхода является то, что нам не нужно указывать набор базисных функций дляg ( ⋅ ), а вместо этого использовать более обобщенные аппроксиматорыg ′(⋅). Аппроксиматор функцииg ′(⋅)предлагает более гибкую связь сt ,u ,x и их частными производными произвольного порядка. Нейронная сетьG ⋅ с обучаемыми параметрами Θ используется для моделированияg ′(⋅), чтобы она могла изучать механизм старения батареи из заданныхx,t и других частных производных. Чтобы сбалансировать точность и вычислительную сложность, мы учитываем только влияние частных производных первого порядка, отбрасывая производные более высокого порядка.

Основываясь на вышеизложенном анализе, мы определяем нейронную сеть, информированную физикой,H  для старения батареи: 4 H : = ∂ F t,x;Φ ∂ t − G t , x , u , ut , ux ; Θ ,  где∂ F t,x;Φ ∂ t представляет собой частную производную решения нейронной сетиF(⋅)поt , аG(⋅)обозначает уравнение динамики деградации батареи, смоделированное нейронной сетью. Структура предложенной PINN показана на рис. [6],.

Уравнение ( [4] ) выведено из уравнений ( [2] ) и ( [3] ). Однако, поскольку оно аппроксимируется нейронной сетью, процесс его обучения является дискретным, поэтому оно не строго удовлетворяет уравнению ( [2] ). Для SOH батареи формула расчета выглядит следующим образом: 5 u k = f(k , x)= QkQ0 ,  гдеQ представляет собой емкость циклаk , аQ представляет собой номинальную емкость. Значение SOHu совпадает с точкой на траектории деградацииf ( ⋅ ), когдаt =k. Нам нужно, чтобыH(ti , xi)= 0  выполнялось в точке выборкиi для аппроксимации уравнения ( [2] ). Таким образом, процесс оптимизации PINN должен соответствовать потере PDE, указанной уравнением ( [2] ), т.е.: 6 L PDE = ∑ i = 1 N Hti,xi2 ,  где верхний индексi обозначаетi -й образец, аN обозначает количество образцов. Также цель оптимизации включает потерю данных и потерю монотонности: 7 L data = ∑ i = 1 Nui−ûi2 , 8 L mono = ∑ j = 1 M ∑ k = 1 Nj ReLU ûk+1 −ûk ,  гдеû i представляет собой оцененное значение SOH,M обозначает количество батарей,N jобозначает количество циклов батареиj , а ReLU( ⋅ ) — это выпрямленная линейная единица. Потеря монотонностиL mono основана на физических свойствах деградации батареи, то есть SOH следующего цикла должен быть меньше или равен SOH предыдущего цикла (если не происходит регенерация емкости). Общая функция формулируется как: 9 L = L data + α L PDE + β L mono ,  гдеα иβ являются параметрами компромисса. Более подробная информация о нашей модели представлена в Дополнительной заметке [3].

Наша PINN для старения батареи состоит из двух частей: нейронной сети решенияF(⋅), которая строит отображение признаков в SOH, и нейронной сетиG(⋅), которая моделирует динамику деградации батареи, как показано на рис. [6]. Мы считаем, что динамика деградацииG(⋅)независима от протоколов зарядки/разрядки и наборов данных, в то время как решениеF(⋅)связано с ними. Поэтому, когда наша PINN применяется к сценариям обучения переносу, динамикаG(⋅)замораживается, и только решениеF(⋅)подстраивается, как показано на рис. [6] b.

Таблица 1: Химические компоненты и основные условия эксперимента для четырех наборов данных
Набор данных | Партия | Химический компонент | Номинальная емкость (мАч) | Пороговое напряжение (В) | Температура эксперимента (°C) | Количество ячеек
XJTU | 1,2,3,4,5,6 | LiNi 0.5Co 0.2Mn 0.3O 2| 2000 | 2.5–4.2 | Комнатная температура | 55
TJU | 1 | Li 0.86Ni 0.86Co 0.11Al 0.03O 2| 3500 | 2.65–4.2 | 25,35,45 | 66
| 2 | Li 0.84Ni 0.83Co 0.11Mn 0.07O 2| 3500 | 2.5–4.2 | 25,35,45 | 55
| 3 | Смесь 42 (3) вес.% LiNiCoMnO 2и 58 (3) вес.% LiNiCoAlO 2| 2500 | 2.5–4.2 | 25 | 9
MIT | – | LiFePO 4| 1100 | 2.0–3.6 | 30 | 125
HUST | – | LiFePO 4| 1100 | 2.0–3.6 | 30 | 77
Протокол зарядки/разрядки варьируется среди различных наборов данных.

Таблица 2: Результаты предложенной PINN (нашей), многослойного перцептрона (MLP) и сверточной нейронной сети (CNN) на четырех наборах данных
Набор данных | Партия | Наша | MLP | CNN | | | MAPE | RMSE | MAPE | RMSE | MAPE | RMSE
XJTU | 1 |  0.0070|  0.0094| 0.0260 | 0.0277 | 0.0270 | 0.0330
| 2 |  0.0113|  0.0122| 0.0275 | 0.0304 | 0.0298 | 0.0352
| 3 |  0.0086|  0.0100| 0.0211 | 0.0237 | 0.0177 | 0.0212
| 4 |  0.0071|  0.0105| 0.0200 | 0.0235 | 0.0150 | 0.0189
| 5 |  0.0105|  0.0135| 0.0183 | 0.0217 | 0.0350 | 0.0453
| 6 |  0.0063|  0.0097| 0.0204 | 0.0242 | 0.0149 | 0.0194
TJU | 1 |  0.0164|  0.0158| 0.0206 | 0.0197 | 0.0198 | 0.0208
| 2 |  0.0119|  0.0132| 0.0149 | 0.0157 | 0.0143 | 0.0149
| 3 |  0.0080|  0.0079| 0.0150 | 0.0144 | 0.0124 | 0.0125
MIT | |  0.0065|  0.0074| 0.0079 | 0.0087 |  0.0065| 0.0075
HUST | | 0.0078 |  0.0087| 0.0080 | 0.0090 |  0.0074| 0.0087
MAPE — это средняя абсолютная процентная ошибка, а RMSE — это среднеквадратичная ошибка. Лучшие результаты выделены жирным шрифтом. Все значения усреднены по десяти экспериментам.

Таблица 3: Результаты экспериментов с небольшими выборками на наборе данных XJTU batch 1 и наборе данных HUST
Набор данных | Количество обучающих батарей | Наш метод | MLP | CNN | | | MAPE | RMSE | MAPE | RMSE | MAPE | RMSE
XJTU | 1 |  0.0141|  0.0184| 0.0343 | 0.0390 | 0.0929 | 0.0949
| 2 |  0.0105|  0.0134| 0.0267 | 0.0304 | 0.0728 | 0.0826
| 3 |  0.0069|  0.0096| 0.0347 | 0.0383 | 0.0548 | 0.0666
| 4 |  0.0056|  0.0076| 0.0292 | 0.0327 | 0.0560 | 0.0647
HUST | 1 |  0.0446|  0.0485| 0.0601 | 0.0682 | 0.3614 | 0.1550
| 2 |  0.0178|  0.0202| 0.0391 | 0.0461 | 0.0826 | 0.0925
| 3 |  0.0154|  0.0181| 0.0251 | 0.0287 | 0.0514 | 0.0618
| 4 |  0.0144|  0.0173| 0.0253 | 0.0288 | 0.0429 | 0.0521
MAPE — это средняя абсолютная процентная ошибка, а RMSE — это среднеквадратичная ошибка. Лучшие результаты выделены жирным шрифтом. Все значения усреднены по десяти экспериментам. "Количество обучающих батарей" означает, что мы используем 1, 2, 3 и 4 батареи для обучения модели соответственно, а затем тестируем её на тестовом наборе.

Таблица 4: Среднеквадратичная ошибка (RMSE) теста экспериментов по тонкой настройке среди четырех наборов данных
| Тонкая настройка | Только источник | Обучение с целевой ячейкой | | XJTU | TJU | MIT | HUST | XJTU | TJU | MIT | HUST | 1 | 2
XJTU | – |  0.0100| 0.0145 |  0.0104| – | 0.0967 | 0.1329 | 0.0733 | 0.0184 |  0.0134
TJU |  0.0093| – |  0.0119| 0.0146 | 0.1266 | – | 0.1674 | 0.1266 |  0.0121| 0.0202
MIT |  0.0239| 0.0272 | – |  0.0248| 0.0347 | 0.1277 | – | 0.0561 | 0.0324 |  0.0142
HUST |  0.0333| 0.0343 |  0.0307| – | 0.1131 | 0.2008 | 0.0801 | – | 0.0485 |  0.0202
Топ-3 результатов выделены жирным шрифтом, курсивом и подчеркиванием соответственно. Все значения усреднены по десяти экспериментам. Рассматривайте таблицу по строкам. Первая строка представляет, что набор данных XJTU используется в качестве целевой области, а другие наборы данных используются в качестве источника. "Тонкая настройка" означает, что PINN был обучен на источнике, затем донастроен с данными из первой батареи в целевой области и протестирован на тестовом наборе целевой области. "Только источник" означает, что PINN был обучен на источнике, а затем протестирован на тестовом наборе целевой области напрямую. "Обучение с целевой ячейкой" означает, что PINN был обучен с 1 или 2 батареями из целевой области, а затем протестирован на тестовом наборе целевой области (то же, что и эксперименты с небольшими выборками). Для удобства мы выбираем только данные из XJTU batch 1 для представления набора данных XJTU. Аналогично, batch 3 набора данных TJU используется для представления набора данных TJU.

Fig. 1: a Литий-ионные батареи могут иметь различную химию (например, литий-никель-кобальт-марганат (NCM), литий-никель-кобальт-алюминат (NCA) и литий-железо-фосфат (LFP) и т.д.). Разные пользователи имеют персонализированные стратегии разряда батарей, что приводит к различным траекториям деградации. b Иллюстрация выбранных данных для извлечения признаков. Мы извлекли признаки из короткого периода данных до полной зарядки батареи. Эти признаки используются в качестве входных данных предложенной PINN для оценки SOH. Верхние графики представляют собой кривые из 10-го цикла, а нижние графики — все кривые в течение всего жизненного цикла. Старение батареи и изменения в протоколах зарядки/разрядки вызывают смещение кривых. c Структура предложенной PINN, где u иûпредставляют истинный и оцененный SOH, t и x представляют цикл и признаки, верхний индекс i представляет индекс образца, а нижние индексы t и x представляют соответствующие частные производные. Функции f ( ⋅ ) и g ( ⋅ ) моделируют отображение между признаками и SOH и динамику деградации батареи соответственно, аF  ( ⋅ ) иG  ( ⋅ ) представляют нейронные сети, используемые для аппроксимации f ( ⋅ ) и g ( ⋅ ) (подробности см. в разделе «Методы»).

Fig. 2: Всего имеется 6 партий (55 батарей), все партии содержат 8 батарей, за исключением партии 2, которая содержит 15 батарей. Протоколы зарядки/разрядки различаются между партиями. Подробности см. в Дополнительной заметке[1].

Fig. 3: a Признаки 8 батарей из набора данных XJTU, партия 1. x -ось каждого подрисунка представляет собой SOH, а y -ось — нормализованное значение соответствующего признака. Число справа от каждого подрисунка обозначает номер признака. b Тепловая карта корреляции между извлеченными признаками и SOH в четырех наборах данных. Числа 1–16 представляют 16 признаков, и порядок признаков соответствует порядку в ( a ).

Fig. 4: a Результаты оценки SOH предложенной PINN на четырех наборах данных. Предсказанные и истинные значения SOH распределены около диагонали, что указывает на хорошую работу модели. b Распределения средней абсолютной ошибки (MAE), средней абсолютной процентной ошибки (MAPE) и среднеквадратичной ошибки (RMSE) для 3 моделей (предложенная PINN (наша), многослойный перцептрон (MLP) и сверточная нейронная сеть (CNN)) на четырех наборах данных. Каждая полоса ошибки содержит 10 точек (10 экспериментов) и отмечена линиями среднего значения и стандартного отклонения. По сравнению с двумя другими методами, наш метод имеет меньшие ошибки предсказания и более стабилен. Исходные данные предоставлены в файле исходных данных.

Fig. 5: Каждая полоса ошибки содержит 10 точек (10 экспериментов) и отмечена линиями среднего значения и стандартного отклонения. "1 батарея" в легенде означает, что мы используем данные только 1 батареи для обучения модели. Остальные аналогичны. По мере увеличения числа батарей производительность трех моделей улучшается. Однако наш метод все равно показывает лучшие результаты среди них. a Результаты на наборе данных XJTU, партия 1. b Результаты на наборе данных HUST. Исходные данные предоставлены в виде файла исходных данных.

Fig. 6: a Извлеченные признаки x и цикл t используются для оценки SOH u.ûпредставляет собой оцененное SOH, а индексы t и x обозначают соответствующие частные производные. Нейронные сетиF  ( ⋅ ) иG  ( ⋅ ) используются для моделирования отображения между признаками и SOH и динамикой деградации батареи соответственно. b Когда предложенная PINN применяется к сценариям обучения переносу, динамикаG  ( ⋅ ) замораживается, и только решениеF  ( ⋅ ) подстраивается.

